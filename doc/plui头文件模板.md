## 文档: `plui` 头文件模板

### 文件后缀

- 文件后缀为 `.plht.yaml`

### 基本结构

```yaml
# 在根命名空间中创建枚举类型
enum.EnumName:
  - ?type=DataType  # 设置数据类型，可选。在 C 语言中忽略
  - EnumItem1       # 设置枚举项
  - EnumItem2
  - EnumItemN

# 创建命名空间
ns.NamespaceName:
  cpp.name: CppNamespaceName  # 在 C++ 中使用的命名空间前缀，可选
  c.name: CNamespaceName      # 在 C 语言中使用的命名空间前缀，可选
  enum.EnumNameInNamespace:   # 在命名空间中创建枚举类型
    - ?type=DataType          # 设置数据类型，可选
    - EnumItem1               # 设置枚举项
    - EnumItem2 = Value       # 设置枚举项及其值
    - EnumItemN
  # 其他类型定义...
  
# 宏定义
MACRO_NAME: Value                        # 定义宏
MACRO_NAME: Value ?condition             # 条件定义宏
```

### 详细说明

#### 枚举类型定义

定义枚举类型，支持在根命名空间和自定义命名空间中定义。

- **语法：**

```yaml
enum.EnumName:
  - ?type=DataType
  - EnumItem1
  - EnumItem2
  - EnumItemN
```

- **示例：**

```yaml
enum.PixFmt:
  - ?type=u32
  - RGB
  - BGR
  - RGBA
  - BGRA
```

**注意：** `?type=DataType` 必须放在类型的最前面，并且是可选项。

#### 命名空间定义

在命名空间中定义枚举类型和其他类型（未来可以扩展）。

- **语法：**

```yaml
ns.NamespaceName:
  cpp.name: CppNamespaceName
  c.name: CNamespaceName
  enum.EnumNameInNamespace:
    - ?type=DataType
    - EnumItem1
    - EnumItem2 = Value
    - EnumItemN
  # 其他类型定义...
```

- **示例：**

```yaml
ns.pl2d:
  cpp.name: pl2d
  c.name: PL2D
  enum.MyEnum:
    - ?type=i32
    - Node1
    - Node2 = 3
```

#### 宏定义

定义宏和条件宏。

- **语法：**

```yaml
MACRO_NAME: Value
MACRO_NAME: Value ?condition
```

- **示例：**

```yaml
MY_MACRO: 内容
MY_ANOTHER_MACRO: 内容 ?if=defined(MY_MACRO)
```

### 示例 YAML 文件

下面是一个完整的 `.plht.yaml` 文件示例：

```yaml
# 在根命名空间中创建枚举类型
enum.PixFmt:
  - ?type=u32
  - RGB
  - BGR
  - RGBA
  - BGRA

# 创建命名空间 pl2d
ns.pl2d:
  cpp.name: pl2d
  c.name: PL2D
  enum.MyEnum:
    - ?type=i32
    - Node1
    - Node2 = 3

# 宏定义
MY_MACRO: 内容
MY_ANOTHER_MACRO: 内容 ?if=defined(MY_MACRO)
```

### 生成的 C 和 C++ 头文件示例

**生成的 C 头文件 (`test.h`)：**

```c
// This file is automatically generated, please do not modify it.

typedef enum PixFmt {
    PixFmt_RGB,
    PixFmt_BGR,
    PixFmt_RGBA,
    PixFmt_BGRA,
} PixFmt;

typedef enum PL2D_MyEnum {
    PL2D_MyEnum_Node1,
    PL2D_MyEnum_Node2 = 3,
} PL2D_MyEnum;

#define MY_MACRO 内容
#if defined(MY_MACRO)
#define MY_ANOTHER_MACRO 内容
#endif
```

**生成的 C++ 头文件 (`test.hpp`)：**

```cpp
// This file is automatically generated, please do not modify it.

enum class PixFmt : u32 {
    RGB,
    BGR,
    RGBA,
    BGRA,
};

namespace pl2d {
    enum class MyEnum : i32 {
        Node1,
        Node2 = 3,
    };
}

#define MY_MACRO 内容
#if defined(MY_MACRO)
#define MY_ANOTHER_MACRO 内容
#endif
```

通过上述文档，你可以创建符合自己需求的 `.plht.yaml` 文件，并生成对应的 C 和 C++ 头文件。
